# CaseHarbor UI改善 - ダークテーマ・サイドバーレイアウト

## 実装方針

1. **ダークテーマ**: 目に優しい暗めの配色に変更
2. **サイドバーレイアウト**: 左サイドバー + メインコンテンツエリア
3. **リサイズ機能**: サイドバーの幅を自由に調整可能
4. **日本語化**: UIテキストを日本語に統一

## 実装内容

### 1. ダークテーマの配色

#### メインカラーパレット
- **背景色**: `#2d3748` (ダークグレー)
- **サイドバー**: `#1a202c` (より暗いグレー)
- **テーブル背景**: `#1a202c`
- **テキスト**: `#e2e8f0` (ライトグレー)
- **サブテキスト**: `#a0aec0` (ミディアムグレー)

#### インタラクション
- **ホバー**: `#4a5568` (中間色)
- **ボーダー**: `#4a5568`
- **フォーカス**: `#63b3ed` (ブルー)

### 2. レイアウト構造

```
┌─────────────────────────────────────┐
│ App Container                       │
├──────────┬──────────────────────────┤
│ Sidebar  │ Main Content             │
│          │                          │
│ - Title  │ - Test Case Table        │
│ - Project│ - Inline Editing         │
│ - Export │                          │
│ - Stats  │                          │
│          │                          │
│ [resize] │                          │
└──────────┴──────────────────────────┘
```

### 3. サイドバーコンポーネント

#### 構成要素
- **ヘッダー**: アプリタイトルとサブタイトル
- **プロジェクト選択**: ドロップダウン + 新規作成・削除
- **エクスポート**: 形式選択とダウンロード
- **統計**: テストケース数表示
- **リサイザー**: ドラッグ可能な境界線

#### リサイズ機能
- **最小幅**: 250px
- **最大幅**: 500px
- **ドラッグ**: マウスドラッグで幅調整
- **ビジュアル**: ホバー時にブルーのハイライト

### 4. インライン編集の改善

#### エディタブルセル
- **ホバー効果**: 背景色変化でクリック可能を示唆
- **編集モード**: ブルーボーダーで明確に区別
- **プレースホルダー**: イタリック体で案内表示

#### テキストエリア
- **複数行対応**: 仕様・事前条件・手順・確認事項
- **自動リサイズ**: 内容に応じて高さ調整
- **キーボード操作**: Enter保存、Escapeキャンセル

### 5. 日本語化

#### UIテキスト
- ボタン: 「追加」「削除」「作成」「キャンセル」
- ラベル: 「タイトル」「仕様」「事前条件」「手順」「確認事項」
- メッセージ: 空状態、エラー、確認ダイアログ

#### エクスポート機能
- 「テストケースをエクスポート」
- 「形式」「テストケースを選択」
- 「全て」「なし」「(N件)」「(全て)」

### 6. レスポンシブ対応

#### モバイル・タブレット
- **900px以下**: サイドバーが上部に移動
- **リサイザー**: モバイルでは非表示
- **テーブル**: 横スクロール対応

#### デスクトップ
- **サイドバー**: 固定幅、リサイズ可能
- **メインエリア**: 残り領域を使用
- **テーブル**: フル幅表示

### 7. パフォーマンス改善

#### トランジション
- **統一時間**: 0.2秒の統一されたアニメーション
- **transform**: ボタンホバーで軽微な浮上効果
- **背景色変化**: スムーズな色遷移

#### 最適化
- **useEffect**: 適切な依存関係管理
- **イベントリスナー**: クリーンアップ処理
- **メモ化**: 必要に応じた再計算の抑制

## 使用方法

### サイドバー操作
1. **プロジェクト選択**: ドロップダウンで切り替え
2. **プロジェクト作成**: 「+ 新規作成」→ 名前入力 → Enter
3. **サイドバーリサイズ**: 右端の境界線をドラッグ
4. **エクスポート**: 「エクスポート」→ 形式選択 → ダウンロード

### テストケース編集
1. **追加**: 「+ 追加」ボタンで新しい行を追加
2. **編集**: セルをクリックして直接編集
3. **保存**: Enter または他の場所をクリック
4. **キャンセル**: Escape キー

## 技術的改善点

### カラーアクセシビリティ
- **コントラスト比**: WCAG AA基準クリア
- **色覚障害対応**: 色だけに依存しない情報設計

### ユーザビリティ
- **視覚的階層**: 明確な情報の優先順位
- **操作性**: 直感的なインタラクション
- **フィードバック**: アクション結果の明確な表示