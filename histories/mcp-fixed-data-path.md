# MCPサーバーのデータ保存先をcase-harborプロジェクトに固定

## 実装方針
MCPサーバーのデータ保存先をコマンド実行場所に依存せず、case-harborプロジェクトの`data/`ディレクトリに固定する。

## 問題
MCPサーバーは`process.cwd()`をフォールバックに使用していたため、コマンド実行場所によってデータ保存先が変わってしまう問題があった。

## 実装内容
1. **相対パス計算による固定化**
   - `fileURLToPath(import.meta.url)`でMCPサーバーのファイル位置を取得
   - `mcp-server/dist/storage.js`から`../../data`の相対パスでcase-harborのdataディレクトリを特定
   - 実行場所に依存しない絶対パス生成

2. **環境変数サポート維持**
   - `CASE_HARBOR_DATA_DIR`環境変数が設定されていればそちらを優先
   - フォールバックとして相対パス計算を使用

## 変更ファイル
- `mcp-server/src/storage.ts`: 相対パス計算によるデータディレクトリ固定化

## 効果
- どこからMCPサーバーを実行してもcase-harborプロジェクトの`data/`にデータが保存される
- フロントエンドとの確実なデータ共有
- 開発・運用環境での一貫した動作