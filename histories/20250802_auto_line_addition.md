# 自動行追加機能の実装

## 実装方針

最終行に入力があった場合に自動で新しい空行を追加し、常に最後の行が未入力状態になるよう実装。

## 実装内容

### TestCaseTable.tsx の修正

1. **ensureTrailingNewline関数の追加**
   - 最後の行が空でない場合、自動で改行を追加
   - 空行がある場合はそのまま維持

2. **onChange処理の修正**
   - textareaでの入力時に自動行追加を実行
   - input（単行）フィールドには適用しない

3. **startEdit関数の修正**
   - 編集開始時にmultilineフィールドには自動で末尾改行を追加
   - specification, preconditions, steps, verificationが対象

4. **getDisplayValue関数の調整**
   - 表示時は末尾の空行を除去して行数カウント
   - 3行制限の判定が正確に動作

## 動作仕様

**編集中:**
- 最後の行に文字を入力 → 自動で新しい空行が追加
- 常に最後の行は空行状態
- カーソルは文字列の末尾に位置

**表示時:**
- 末尾の空行は表示用にカウントから除外
- 実際の内容のみで3行制限を判定

## 使用例

**入力時:**
```
a
b
c
[ここで'c'を入力すると自動で下に空行追加]
a
b
c
　← 空行（カーソル位置）
```

**表示時:**
```
a
b
c
...  （4行以上の場合）
```

## 結果

- より直感的な入力体験
- 常に次の行の準備ができている状態
- Enterキーを押さなくても新しい行に移動可能
- 表示時は適切に3行制限が適用