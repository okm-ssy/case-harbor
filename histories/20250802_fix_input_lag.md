# 入力フィールドの適用ラグ修正

## 実装方針

入力フィールドの選択状態解除から内容適用までにラグが発生し、一時的に入力内容が消える問題を修正した。

## 問題の詳細

1. `onBlur` → `saveEdit()` 呼び出し
2. `saveEdit()` → API呼び出し → `setEditingCell(null)` で編集状態解除
3. 編集状態解除により入力フィールドが消え、古い値が表示される
4. API応答後にやっと新しい値で再レンダリング

この間に「入力内容が消えている期間」が発生していた。

## 実装内容

### 変更ファイル
- `frontend/src/components/TestCaseTable.tsx`

### 修正詳細

1. **PendingValue インターフェース追加**
   - 保存処理中の値を一時保存する仕組みを追加

2. **saveEdit 関数の改善**
   - 編集状態を即座に解除
   - 編集中の値を `pendingValues` として保存
   - API完了後に保留値を削除

3. **getFieldValue 関数の拡張**
   - 保留中の値があれば優先的に返す
   - 実際のデータ値との切り替えをスムーズにする

4. **renderEditableCell の改善**
   - 非編集状態でも保留値を考慮して表示
   - 入力内容が即座に反映されるように修正

これにより、入力完了後に内容が消える現象がなくなり、スムーズな編集体験を実現した。